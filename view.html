<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Visualizador de Laudo Interativo</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            try {
                // Pega a string de dados da URL (tudo que vem depois do '#')
                const encodedData = window.location.hash.substring(1);
                if (!encodedData) {
                    document.body.innerHTML = '<h1>Erro: Nenhum dado de laudo encontrado na URL.</h1>';
                    return;
                }

                // Decodifica a string de Base64 para HTML
                const decodedHtml = atob(encodedData);

                // Usa um iframe para exibir o conteúdo. Isso isola os estilos
                // e scripts do laudo, tornando a exibição mais segura e estável.
                const iframe = document.createElement('iframe');
                iframe.srcdoc = decodedHtml;
                document.body.appendChild(iframe);

            } catch (e) {
                console.error("Erro ao decodificar ou exibir o laudo:", e);
                document.body.innerHTML = '<h1>Erro: Não foi possível carregar o laudo. O link pode estar corrompido.</h1>';
            }
        });
    </script>
</body>
</html>